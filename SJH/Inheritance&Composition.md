# 상속과 구성

<br>

**상속과 구성은 OOP에서 발견되는 두가지 중요한 개념**

<br>

## 상속(Inheritance)

- 클래스가 클래스를 확장하여 부모 클래스의 속성과 동작을 상속할 수 있는 기능

- 하위 클래스는 상위 클래스의 모든 메소드를 재사용할 수 있고, 재정의 하여 하위 클래스만의 메소드로 변경할 수 있다.

- 부모 클래스의 멤버를 자식 클래가 물려받으며 적은 양의 크드로 새로운 클래스 작성 가능

  - 상속을 해주는 부모 클래스 : 상위 클래스(수퍼 클래스)
  - 상속을 받는 자식 클래스 : 하위 클래스(서브 클래스)

- 상속은 OOP에서 **IS-A 관계** 를 나타냄

  - 본질적으로 A가 B임을 의미

  - 하위 클래스가 상위 클래스의 진짜 하위 타입인 상황에서 쓰여야 함(순수한 is-a 관계일 때)

  - ex_) 

    - 와인 클래스를 상속하는 레드 와인 클래스

    - 동물 클래스를 상속하는 개 클래스, 사람 클래스

       <img src= "https://camo.githubusercontent.com/a6d811aa2c7c5c219a0c33c344ad4d0451c6264a11ce133ef6e67c16b9124da2/68747470733a2f2f626c6f672e6b616b616f63646e2e6e65742f646e2f62506b5147492f62747144374842436b4a592f4c6c50547642716e5631326530546436676f796142302f696d672e676966" height = 380>

- 상속 방법 

  - **extends**
  - 모양 : `class 자식 클래스명 extends 부모 클래스명 {...}`

- 자바에서는 자식 클래스가 여러 부모로부터 다중 상속을 받는 것이 불가능

  - 1개의 부모 클래스로부터의 단일 상속만 허용

  <br>

- #### 상속의 장점

  - 중복된 코드를 줄일 수 있다.
  - 유지보수가 편리하다
  - 통일성이 있고, 다형성을 구현할 수 있다.

<br>

- #### 상속의 단점

  - 상속은 단일 패키지에서 사용해야만 안전하다.
  - 하위 클래스는 상위 클래스에 많이 의존하게 된다.
  - 상위 클래스의 코드가 수정되면 하위 클래스의 코드도 수정되어야 하는 경우가 많다.
    - 재정의 메소드
  - 확장이라는 목표를 두고 상속을 사용하면 괜찮으나, 해당 설계가 아닌 상황에서 상속을 사용할 시 문제가 발생할 수 있다.
  - **캡슐화  위반**
    - 하위 클래스가 상위 클래스의 구체적인 구현 내용을 의존하고 있기 때문이다.

<br>

------------

 *무분별한 상속은 코드를 복잡하게 만들고 여러가지 문제를 야기할 수 있다.*

 *그럴 때 사용하는 것이*  ***구성(Composition)*** *이다.*

-------------------

<br>

## 구성(Composition)

- 클래스가 다른 클래스의 객체를 멤버 데이터로 포함하는 기능

- 기존의 부모 클래스를 상속 받는 것이 아니라, 클래스의 주소 값을 참조하는 private 필드를 자식 클래스에 만드는 패턴

- 즉, 기존 클래스를 확장하는 것이 아니라 새로운 클래스를 만들고 private 필드로 기존 클래스의 인스턴스를 참조하게 하는 것

- **기존 클래스가 새로운 클래스의 구성요소**로 쓰인다.

- 새로운 클래스의 메소드들은 기존 클래스에서 필요한 메서드를 호출하면 된다.

  - 이를 전달(forwarding)이라고 하고 해당 메서드를 전달 메서드라고 한다.

- 기존 클래스의 세부 구현과 상관없기 때문에 기존 클래스가 수정되어도 영향을 미치지 않는다.

- 구성은 OOP에서 **HAS-A 관계**를 나타낸다.

  - 다른 객체를 받아들여서 그 객체의 기능을 사용하는 것

  - 받아들인 객체의 자원을 사용할 수 있다.

  - 어떤 클래스 A가 다른 클래스 B가 가진 기능을 사용하고 싶을 때, B를 포함하면 B의 기능을 사용할 수 있다.

  - ex_)

    - 사람이 핸드폰을 사서 그 기능을 사용하는 것

    - 연필이 지우개 달아서 지우개 달린 연필이 되는 것

       <img src= "https://camo.githubusercontent.com/b5c482580e3ab03319396d7dd1219a6d05dda8c99f7549d6e55a65f3f5f094ee/68747470733a2f2f626c6f672e6b616b616f63646e2e6e65742f646e2f4873504e372f6274714437474a73686a312f6b48424f74644a63373458547a6a5359356b394344312f696d672e676966" height = 380>

<br>

## 상속 vs 구성

- 상속과 구성은 OOP 개념이지만 프로그래머가 달성 할 수 있는 방식이 상당히 다르다.
- **상속** 
  - 클래스가 클래스를 확장하여 클래스와 속성 및 동작을 상속하는 기능
  - 모든 public 및 private 속성/ 동작을 상속하며 하위 클래스가 해당 동작을 재정의 할 수 잇다.
  - 밀접한 관계로 클래스 계층구조에서 좀 더 안정적인 기반을 마련할 수 있다.
- **구성**
  - 클래스가 다른 클래스의 객체를 멈버 데이터로 포함하는 기능
  - 클래스가 다른 클래스에 포함된 경우
  - 컨테이너는 포함된 동작을 변경하거나 추가 할 수 없다.
  - 결합이 느슨하여 많은 유연성을 제공한다.

- **상속은 IS-A 관계, 구성은 HAS-A 관계를 나타낸다.**

<br>

----

### 예상질문 :bulb:

1. **구성이 나오게 된 계기**
   - 무분별한 상속으로 코드가 복잡해지고 여러 문제가 발생하게 되어 이를 해결하기 위해 나온 것이 구성이다.



2. **상속과 구성의 관계에 대해 비교**하시오
   - 상속은 IS-A 관계, 구성은 HAS-A관계를 나타낸다.



3. 상속의 단점 중 캡슐화 위반이 되는 이유는 무엇인가?
   - 하위 클래스가 상위 클래스의 구체적인 구현 내용을 의존하고 있기 때문이다.

------

**<참조>**

- [객체지향적 관점에서 has-a와 is-a 차이점](https://minusi.tistory.com/entry/%EA%B0%9D%EC%B2%B4-%EC%A7%80%ED%96%A5%EC%A0%81-%EA%B4%80%EC%A0%90%EC%97%90%EC%84%9C%EC%9D%98-has-a%EC%99%80-is-a-%EC%B0%A8%EC%9D%B4%EC%A0%90)
- <https://github.com/fake-developers/1st/blob/KJY-04/KJY/%5BJAVA%5D%20%EC%83%81%EC%86%8D%EA%B3%BC%20%EA%B5%AC%EC%84%B1.md#pushpin-oop-object-oriented-programming%EC%97%90%EC%84%9C-%EB%B0%9C%EA%B2%AC%EB%90%98%EB%8A%94-%EB%91%90-%EA%B0%80%EC%A7%80-%EC%A4%91%EC%9A%94%ED%95%9C-%EA%B0%9C%EB%85%90>