# HTTP와 HTTPS

- ### HTTP란?

  - Hypertext Transfer Protocol의 약자

  - 웹 브라우저와 서버 간 통신을 주고 받게 해주는 가장 기초적인 프로토콜

    주로 HTML 문서를 주고 받을 때 사용

  - 80번 포트 사용

  - 서버에서부터 브라우저로 전송되는 정보가 암호화 되지 않음

    - **데이터가 쉽게 도난당할 수 있음**(HTTPS등장의 원인)

  - HTTP의 구조

    ![HTTPstructure](https://camo.githubusercontent.com/2a689dd6c8ecdadb592c4efc6fc6a5d959bb92dc0617c1758792a9a0cd936f80/68747470733a2f2f626c6f672e6b616b616f63646e2e6e65742f646e2f626b644a34512f6274714b3641584c4574432f6a425a7a4d754a42577a644c596d71494c6f355269312f696d672e706e67)

    - 애플리케이션 레벨의 프로토콜로, TCP/IP 위에서 작동
    - Stateless 프로토콜이며, Method, Path, Version, Headers, Body 등으로 구성

<br>

- ### HTTPS란?

  ![HTTPS](https://camo.githubusercontent.com/c310b240011ecb7b509d53422bde838a33efef9bec5cdb8f0b74708ad5e81093/68747470733a2f2f74312e6461756d63646e2e6e65742f6366696c652f746973746f72792f393938394231353035433732383835453239)

  - HTTP의 안정성 문제를 해결하기 위해 나옴

  - Hypertext Transfer Protocol over Secure Socket Layer의 약자

  - HTTP에 **데이터 암호화**가 추가된 프로토콜

  - **SSL/TLS 프로토콜**을 사용하여 HTTP 보안 문제를 해결

  - 443번 포트를 사용함

  - 네트워크 상에서 중간에 제 3자가 볼수 없도록 **공개키 암호화**를 지원

  - 실제 전송되는 데이터의 암호화에는 **대칭키 암호화 방식**을 사용, 키 교환에는 공개키 암호화를 사용

    > **<공개키/개인키>**
    >
    > ![KEY](https://camo.githubusercontent.com/5285b230cab73ec73ec2ed98de78c2a2999796af3d75cb71f280e13e4791b507/68747470733a2f2f626c6f672e6b616b616f63646e2e6e65742f646e2f4f4b636f672f6274714b3731664d3861342f6731486d63444f52374d5652527a3770534b4b4a576b2f696d672e706e67)
    >
    > - 공개키 : 모두에게 공개 가능한 키
    > - 개인키 : 나만 가지고 알고 있어야 하는 키
    >
    > - 공개키 암호화 : 개인키로만 복호화 할 수 있음
    >   - 개인키는 나만 가지고 있으므로, 나만 볼 수 있음
    > - 개인키 암호화 : 공개키로만 복호화 할 수 있음
    >   - 공개키는 모두에게 공개되어 있으므로, 내가 인증한 정보임을 알려 신뢰성을 보장할 수 있음
    > - 처리 속도가 느림
    >
    > **<대칭키>**
    >
    > - 처리속도가 빠르지만, 서버와 클라이언트가 같은 키를 사용해야함
    >   - 키를 공유하는 문제가 생김

  - **HTTPS의 동작과정**

    - 인증서 발급

      1. 인터넷 사이트는 자신의 정보와 공개키를 인증기관에 제출
1. 인증기관은 제출된 데이터 검증절차를 거쳐 개인키로 사이트에서 제출한 정보를 암호화, 인증서 발급
      2. 인증기관은 웹 브라우저에게 자신의 공개키를 제공
      
  <img src="https://camo.githubusercontent.com/50551c5a7f9c2ae104ef4175a5a56cee1c9232c91aba50289ff5cf2796f8d92a/68747470733a2f2f74312e6461756d63646e2e6e65742f6366696c652f746973746f72792f393946304641343435433435364242383039" height=350>
      
    - 사용자의 사이트 접속
    
      1. 사용자가 사이트에 접속하면, 자신의 인증서를 웹 브라우저에게 보냄
      2. 웹 브라우저는 미리 받았던 인증기관의 공개키로 인증서를 해독하여 검증 -> 사이트의 정보와 사이트의 공개키를 알게 됨
      3. 얻은 사이트 공개키로 대칭키를 암호화해 다시 사이트에 보냄
      4. 사이트는 개인키로 암호문을 해독해 대칭키를 얻게 되고, 이제 대칭키로 데이터를 주고받을 수 있음
    
      <img src="https://camo.githubusercontent.com/72ad492fee505a7104fd17f3f73a83cd4088766a06c8bfccb91cfec469e5b2c2/68747470733a2f2f74312e6461756d63646e2e6e65742f6366696c652f746973746f72792f393933333634333435433435374145443330" height=350>
    
      <img src="https://camo.githubusercontent.com/a5659d9b4960562a5214de8e46915b4a14fd6e87190c2e86eae3b1911ae1676f/68747470733a2f2f74312e6461756d63646e2e6e65742f6366696c652f746973746f72792f393939373335344535433435374146323239" height=350>

<br>

- ### HTTP & HTTPS 비교

  ![HTTPvsHTTPS](https://camo.githubusercontent.com/c9bb95240fcc4f43f9a47aa2231e198ea6fd24182a988261ee28a2e8312a53de/687474703a2f2f626c6f672e776973686b65742e636f6d2f77702d636f6e74656e742f75706c6f6164732f323032302f30322f30332d332e706e67)

  - 보안

    - HTTP : 암호화 X -> 보안에 취약함
    - HTTPS : SSL 인증서, 암호화 -> 안전하게 데이터를 주고 받을 수 있음

  - 속도

    - HTTP : 속도가 비교적 빠름
    - HTTPS : 암호화/복호화 과정 필요 -> 비교적 속도가 느림

  - 비용

    - HTTP : 추가 비용 X
    - HTTPS : 인증서 발급 및 유지에 필요한 추가 비용 발생

  - HTTPS로 전환 시, 검색엔진 최적화(SEO)에 있어서 큰 혜택을 볼 수 있음

    - 보안 문제가 중요해 짐에 따라, 구글에서는 HTTPS를 사용하는 웹 사이트에 대해 검색 순위 결과에 약간의 가산점을 주겠다고 발표하였음
    - 사용자들이 결국에는 가장 안전하다고 생각하는 사이트를 더 많이 방문하기 때문

  - 가속화된 모바일 페이지(AMP, Accelerated Mobile Pages)를 만들땐, HTTPS 프로토콜을 사용해야 함

    > AMP
    >
    > - 모바일 기기에서 훨씬 빠르게 콘텐츠를 로딩하기 위한 방법, Google이 만듬
    > - HTML에서 불필요한 부분을 없앤 것이라고 볼 수 있음

<br>

-------------

- ### 예상질문

  1. **HTTP와 HTTPS의 차이**는 무엇인가?
     - HTTP는인터넷에서 하이퍼텍스트를 전송하기 위한 통신 프로토콜이며 보안이 되지 않기 때문에 정보 유출의 위험이 있다. HTTPS는 이에 보안 요소가 추가된 프로토콜이다. 사용자 정보등을 주고 받을 때에 암호화를 해주며, HTTP에 비해 보안 기능이 추가되었기 때문에 처리 속도가 약간 느리다.

<br>

------------

<참조>

- <https://github.com/fake-developers/1st/blob/JYJ-02/JYJ/HttpAndHttps.md>
- <https://github.com/fake-developers/1st/blob/KJY-02/KJY/%5BNETWORK%5D%20HTTP%EC%99%80%20HTTPS.md>